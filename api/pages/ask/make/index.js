{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"const fs = require('fs') const path = require('path') const textToChars = text => text.split('').map(c => c.charCodeAt(0)) const byteHex = n...","date":"2022-10-27T08:49:34.295Z","updated":"2022-10-27T08:49:34.295Z","comments":true,"path":"api/pages/ask/make/index.js","covers":null,"excerpt":"","content":"const fs = require('fs')\nconst path = require('path')\nconst textToChars = text => text.split('').map(c => c.charCodeAt(0))\nconst byteHex = n => ('0' + Number(n).toString(16)).slice(-2)\nconst applySaltToChar = (key, txt) => textToChars(key).reduce((a, b) => a ^ b, txt)\n\nconst encrypt = (key, text) => text.split('').map(textToChars).map(txt => applySaltToChar(key, txt)).map(byteHex).join('')\n\nconst hash = str => str.split('').map(v => v.charCodeAt(0)).reduce((a, v) => a + ((a << 7) + (a << 3)) ^ v).toString(16)\n\nconst key = process.argv[2]\nconst file = fs.readFileSync(path.resolve(process.argv[3])).toString()\nfs.writeFileSync('quiz/' + hash(key), encrypt(key, file))\n","count_time":{"symbolsCount":673,"symbolsTime":"1 mins."},"toc":""}