[{"id":"648c7171a652f6980efd8cdea11fee95","title":"P2P Web Hosting","content":"basic local exampleClient AHost a http web server via unix sockets.\n\n\n\n\n\n\n\n\nserver.py\nimport http.server\nimport json\nimport os\nimport socket\nimport sys\nimport traceback\n\ndef process_cmd(cmd, *args):\n    print(f&quot;In process_cmd(&#123;cmd&#125;, &#123;args&#125;)...&quot;)\n\nclass HTTPHandler(http.server.BaseHTTPRequestHandler):\n    def do_POST(self):\n        size &#x3D; int(self.headers.get(&#39;Content-Length&#39;, 0))\n        body &#x3D; self.rfile.read(size)\n        args &#x3D; json.loads(body) if body else []\n        try:\n            result &#x3D; process_cmd(self.path[1:], *args)\n            self.send(200, result or &#39;Success&#39;)\n        except Exception:\n            self.send(500, str(traceback.format_exc()))\n\n    def do_GET(self):\n        self.do_POST()\n\n    def send(self, code, reply):\n        # avoid exception in server.py address_string()\n        self.client_address &#x3D; (&#39;&#39;,)\n        self.send_response(code)\n        self.end_headers()\n        self.wfile.write(reply.encode(&#39;utf-8&#39;))\n\nsock_file &#x3D; sys.argv[1]\ntry:\n    os.remove(sock_file)\nexcept OSError:\n    pass\nsock &#x3D; socket.socket(socket.AF_UNIX, socket.SOCK_STREAM)\nsock.bind(sock_file)\nsock.listen(0)\n\nserver &#x3D; http.server.HTTPServer(sock_file, HTTPHandler,\n                                False)\nserver.socket &#x3D; sock\nserver.serve_forever()\n\nsock.shutdown(socket.SHUT_RDWR)\nsock.close()\nos.remove(sock_file)\nand run this with:\npython3 server.py /tmp/http.socket\nClient BTurn the web socket path into a tcp connection that the browser can understandsocat TCP-LISTEN:80,forever,reuseaddr,fork UNIX-CONNECT:&#x2F;tmp&#x2F;http.socket\n\nUse browser to see web page:\n\n\n\n\n\n\n\n\nhttp://localhost\nsame example using P2PClient Apython3 server.py &#x2F;tmp&#x2F;http.socket\n# From another terminal, pipe the server socket into dumbpipe\nsocat UNIX-CONNECT:&#x2F;tmp&#x2F;http.socket,keepalive,ignoreeof EXEC:&quot;dumbpipe listen&quot;,reuseaddr\n# Note down nodeId from the console.\n\nClient Bexport nodeId&#x3D;&quot;&gt;&gt;The id from client A Console.&lt;&lt;&quot;\n# Connect to dumbpipe and expose the socket via tcp.\nexport CMD&#x3D;&quot;dumbpipe connect $nodeId&quot;\nsocat EXEC:&quot;$CMD&quot; TCP-LISTEN:80,forever,reuseaddr,fork\n# Test from another terminal\ncurl http:&#x2F;&#x2F;localhost\n\n\n\n\n\n\n\n\n\n\nSo far this only accepts 1 http e2e and you have to kill socat on client B for curl to respond. This is due to unix-listen just stuck with the first request and it won’t fork additional requests.\n","slug":"p2p-web-hosting","date":"2025-04-27T21:46:35.528Z","categories_index":"","tags_index":"","author_index":"Marin Bivol"},{"id":"8bca6488f8f127550141329af1e7a4bb","title":"Future Proof Smart Home","content":"History for smart homes. It all started with the idea of fobs  that are used to open gates for condos&#x2F;apartments.\nThen companies like zigbee and z-wave expanded their 433 mhz fob to higher frequencies and the idea was formed that we have remotes for our TV why don’t we expand this further to lights. Over time this technology got dimistified a little and wifi relay switches came to market in any shape or form. \nand since they operate on wifi 2.4ghz, and they get connected with an IP address, from there on, its not hard to figure out that our smart phones are also connected to a wifi router.\nSo as things came on the net more and more and the term IoT got more popular, everything had wifi, to the point where the router itself was having issues as it wasn’t designed to handle this amount of volume of devices connected. \nthe Z companies saw this as an opportunity to provide devices that:\n\nhave low power requirements\noperate on lower frequencies, does not congest your home internet.\nhave further reach than wifi and are not stuck on 2.4 Ghz band.\nOperate entirely by themselves with convoluted networks.\n\nBut their solution is to just replace the router with a router of their own, making things more expensive, locked in and specific to the company app which only lives as long as the company is doing well.\nGeeks moved onto what their google offering home assistant, while apple customers also have a solution of their own with homekit splitting this already pretty complicated mess even further.\nBut no worries, just like in video land, when companies are being greedy or stupid for too many years in a row, they come up with their Alice codec alternative, in this case, an universal standard that will be just as bad of a problem as AV1 codec. No hardware support pretty much across the board, even the standard itself was not finalised until 2022. So just like with the video codec where more people adopted the highly licensed HEVC codec anyways because there is support everywhere already for it, same happens here with smart homes and zigbee. Zigbee makes a promise that they already are going the right direction and everybody falls for their obvious lie. There are other kinds of people who think Z-Wave is still a good option because its got a javascript library that opens up everything about how it works. And once again, the work remains divided across the 3 teams that seem to be on top of it, ignoring the fact that there are still other approaches on smaller scale being taken.\nhow do we help the team that needs our helpCurrently Matter proposed protocol is available on github. There is also the project node-matter which is the javascript version slightly behind the C++ official version, but we can get enough of an idea how to go about this to get a smart home working in the future standard. Contributing to these two projects is far better than still picking sides. For hardware, this can start as cheap as €10.40 from Farnell for NRF52840 dongle and while there are other devices that support all the required hardware Nordic the company only makes 2 of these that support the protocols needed: nRF5340, nRF52840. if you’re a hardware intusiast look them up, the chip itself is much cheaper. Otherwise just get the dongle and start making the smart home.\nStarting totorial\n\n\n\n\n\n\n\nTODO\nLater on, I’ll go into more details about my experience with the dongle, and whether I’m able to run the javascript Matter version on the dongle.\n\n\n","slug":"smart-home","date":"2022-05-10T00:00:00.000Z","categories_index":"diy,switch,socket,relay-switch,NRF52840,bluetooth,802.15.4,matter","tags_index":"hardware,protocols","author_index":"Marin Bivol"},{"id":"c2bab51f9d42b34c9c724e9544d91110","title":"Blog Setup","content":"To set up the blog I’m using hexo and one theme it offers called aurora.\nQuick Start.npm i -g hexo\nhexo init\n\nAdd theme aurora to your themes directory.\nchange default theme in _config.ymlFollow any other instructions on the theme page.\n\n","slug":"blog-setup","date":"2022-01-10T00:00:00.000Z","categories_index":"","tags_index":"","author_index":"Marin Bivol"},{"id":"2fb786b48f6089c8782fa49c4f342fac","title":"AWS Professional Training","content":"How to pass the professional Exam\nLots of practice. You need to get used to going question over question quickly\nBe familiar with all the necessary services, their boundaries and how they overlap.\nPicture the use cases in your head and make decisions you think are appropriate to the use cases.\nSkip boring text, look for magic keywords, they lead you to the answer, however not all questions are like that.\nDon’t give up just because of volumes of information, You could get lucky on the day and all the use cases you can figure out by yourself.\nMore exam tips\n\nAWS Pro Questions &#x2F; Quiz\n\nFullscreen Link\n","slug":"aws-quiz","date":"2022-01-08T00:00:00.000Z","categories_index":"","tags_index":"","author_index":"Marin Bivol"}]